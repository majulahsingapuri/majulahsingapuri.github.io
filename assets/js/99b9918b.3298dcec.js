"use strict";(self.webpackChunkmajulahsingapuri_github_io=self.webpackChunkmajulahsingapuri_github_io||[]).push([[8735],{6521:(n,a,e)=>{e.r(a),e.d(a,{assets:()=>r,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var t=e(5893),i=e(1151);const o={id:"allauth-setup",title:"Setup",description:"How to setup Allauth in dj-ninja-auth",sidebar_position:1,sidebar_label:"Setup",keywords:["allauth-setup","dj-ninja-auth"],image:"https://github.com/majulahsingapuri.png",tags:["dj-ninja-auth"],draft:!1},s=void 0,l={id:"allauth/allauth-setup",title:"Setup",description:"How to setup Allauth in dj-ninja-auth",source:"@site/ninja-auth/allauth/setup.md",sourceDirName:"allauth",slug:"/allauth/allauth-setup",permalink:"/ninja-auth/allauth/allauth-setup",draft:!1,unlisted:!1,tags:[{label:"dj-ninja-auth",permalink:"/ninja-auth/tags/dj-ninja-auth"}],version:"current",sidebarPosition:1,frontMatter:{id:"allauth-setup",title:"Setup",description:"How to setup Allauth in dj-ninja-auth",sidebar_position:1,sidebar_label:"Setup",keywords:["allauth-setup","dj-ninja-auth"],image:"https://github.com/majulahsingapuri.png",tags:["dj-ninja-auth"],draft:!1},sidebar:"tutorialSidebar",previous:{title:"Registration",permalink:"/ninja-auth/registration"},next:{title:"Social Authentication",permalink:"/ninja-auth/allauth/social"}},r={},d=[];function u(n){const a={a:"a",admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.p,{children:["After following the ",(0,t.jsx)(a.a,{href:"/ninja-auth/getting-started/installation",children:"installation instructions"}),", add the following to your ",(0,t.jsx)(a.code,{children:"settings.py"})," based on the required settings from ",(0,t.jsx)(a.code,{children:"allauth"}),"."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",metastring:'title="settings.py"',children:"# Specify the context processors as follows:\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                # Already defined Django-related contexts here\n\n                # `allauth` needs this from django\n                'django.template.context_processors.request',\n            ],\n        },\n    },\n]\n\nAUTHENTICATION_BACKENDS = [\n    ...\n    # Needed to login by username in Django admin, regardless of `allauth`\n    'django.contrib.auth.backends.ModelBackend',\n\n    # `allauth` specific authentication methods, such as login by email\n    'allauth.account.auth_backends.AuthenticationBackend',\n    ...\n]\n\nINSTALLED_APPS = [\n    ...\n    # The following apps are required:\n    'django.contrib.auth',\n    'django.contrib.messages',\n\n    'allauth',\n    'allauth.account',\n    'allauth.socialaccount',\n    # ... include the providers you want to enable:\n    'allauth.socialaccount.providers.agave',\n    'allauth.socialaccount.providers.amazon',\n    ...\n]\n\nMIDDLEWARE = (\n    \"django.middleware.common.CommonMiddleware\",\n    \"django.contrib.sessions.middleware.SessionMiddleware\",\n    \"django.middleware.csrf.CsrfViewMiddleware\",\n    \"django.contrib.auth.middleware.AuthenticationMiddleware\",\n    \"django.contrib.messages.middleware.MessageMiddleware\",\n\n    # Add the account middleware:\n    \"allauth.account.middleware.AccountMiddleware\",\n)\n\n# The following is necessary to bypass the default templates\nACCOUNT_ADAPTER = \"dj_ninja_auth.registration.adapter.NinjaAccountAdapter\"\nNINJA_AUTH_EMAIL_CONFIRMATION_URL = \"http://localhost:8000/confirm-email/\"\n"})}),"\n",(0,t.jsx)(a.admonition,{type:"note",children:(0,t.jsxs)(a.p,{children:["You do not need to include the ",(0,t.jsx)(a.code,{children:"allauth"})," URLs in your ",(0,t.jsx)(a.code,{children:"urls.py"})," as the functionality will automatically be present in ",(0,t.jsx)(a.code,{children:"dj-ninja-auth"}),"."]})}),"\n",(0,t.jsxs)(a.p,{children:["Once you have configured your ",(0,t.jsx)(a.code,{children:"settings.py"}),", run the migrate command to add all the ",(0,t.jsx)(a.code,{children:"allauth"})," migrations to your database."]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"python manage.py migrate\n"})})]})}function c(n={}){const{wrapper:a}={...(0,i.a)(),...n.components};return a?(0,t.jsx)(a,{...n,children:(0,t.jsx)(u,{...n})}):u(n)}},1151:(n,a,e)=>{e.d(a,{Z:()=>l,a:()=>s});var t=e(7294);const i={},o=t.createContext(i);function s(n){const a=t.useContext(o);return t.useMemo((function(){return"function"==typeof n?n(a):{...a,...n}}),[a,n])}function l(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),t.createElement(o.Provider,{value:a},n.children)}}}]);